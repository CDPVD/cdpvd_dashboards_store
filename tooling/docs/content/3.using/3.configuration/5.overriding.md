---
titre: Surcharger
---

# Je peux faire mieux que vous, je commence à surcharger (overriding) !

::alert{type=info}
Comprendre le concept DBT de `resource-path` est primordial pour surcharger une ressource. Référez-vous à la documentation [the doc](https://docs.getdbt.com/reference/resource-configs/resource-path) si ce concept est nouveau pour vous.
::

## Qu'est-ce que le surchargement (overriding) ?
Le `core.dashboards_store` et le `cdpvd_dashboards_store` ne fournissent qu'une mise en oeuvre de base par défaut. Peut-être voudriez-vous ajouter un indicateur de performance (KPI) à un tableau de bord ou encore changer une partie d'écriture SQL? Si c'est le cas, vous pouvez le faire en surchargeant la mise en oeuvre par défaut. **Tout** peut être surchargé. N'hésitez surtout pas et appropriez-vous le magasin.

## Où se passe le surchargement ?
On surcharge **toujours** dans notre projet `cssXX.dashboards_store`. N'éditez pas manuellement le projet `core.dashboards_store`  car, ce faisant, vous créez un changement de version qui deviendra un cauchemar.

## Comment surcharger ?

Pour surcharger une écriture identifiée par `override_me_plz.sql`, vous devez :
1. Créer, dans `cssXX.dashboards_store` un fichier s'appelant `override_me_plz.sql` 
   * Vous devriez probablement créer une copie parfaite de la structure de dossier du fichier que vous surchargez.
2. Dites à dbt **de ne pas** utiliser la mise en oeuvre de base du `override_me_plz.sql` en ajoutant l'extrait suivant dans votre fichier `dbt_project.yml`:

```yaml
#cssXX.dashboards_store/dbt_project.yml
<models|seeds|tests>:  # Choisissez la clé de la ressource que vous voulez surcharger
    store:
        <path_to_resource>: # Le chemin d'accès à la ressource que vous voulez surcharger, une clé par partie 
            override_me_plz:
                +enabled: False
```

::alert{type=warning}
`<models|seeds|tests>` : Utilisez `models` lorsque vous surchargez un modèle, `seeds` lorsque vous surchargez un fichier de données statiques et `tests` lorsque vous désactivez ou surchargez un test.
::

# Exemple 

## Surchargement d'une écriture SQL

Disons que je veuille surcharger le fichier défini dans `core.dashboards_store/models/marts/human_resources/features/retirement/fact_retirement.sql` :

1. Je crée d'abord un fichier que je nomme `fact_retirement.sql` in `cssXX.dashboards_store/models/marts/human_resources/features/retirement/fact_retirement.sql` alimenté par ma propre mise en oeuvre personnalisée.
2. J'ajoute ensuite l'extrait suivant dans mon fichier `dbt_project.yml`:

```yaml
#cssXX.dashboards_store/dbt_project.yml
models:
    store:
        marts:
            human_resources:
                features:
                    retirement:
                        fact_retirement:
                            +enabled: False
```

En roulant DBT, ma propre définition sera utilisée en remplacement immédiat de la mise en oeuvre de base.

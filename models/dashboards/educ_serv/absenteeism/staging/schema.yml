version: 2

models:
  - name: cdpvd_abstsm_stg_padding
    description: >
      Une table de padding identifiant par année, école et grille les jours de calendrier actifs.
      La table de padding est ensuite utilisée comme colonne vertébrale pour calculer le taux quotidien, même en cas d'absence.
    tests:
      - core_dashboards_store.resolution:
          combination_of_columns:
            - id_eco
            - date_evenement
            - groupe
            - event_kind
            - code_matiere
            - etape
            - grille
            
  - name: cdpvd_abstsm_stg_daily_metrics
    description: Le taux d'absence quotidien et le nombre d'élèves actifs.
    tests:
      - core_dashboards_store.resolution:
          combination_of_columns:
            - annee
            - groupe
            - school_friendly_name
            - date_evenement
            - etape_friendly
            - event_kind
            - code_matiere

  - name: cdpvd_abstsm_stg_daily_students
    description: Calculer le nombre quotidien d'élèves actifs.
    tests:
      - core_dashboards_store.resolution:
          combination_of_columns:
            - date_evenement
            - id_eco
            - groupe
            - grille
            - etape
---
title: Suivi ETC
---

### suivi_etc

> Suivi des heures rémunérées / ETC selon différents axes

| Interfaces  | Marts         	  | Marts seeds     | Dashboard seeds | Additional config |
|-------------|-------------------|-----------------|-----------------| ------------------|
| paie, dofin |human_ressources   | Yes            	| Yes             | Yes 	            |


#### Configurations 

#### Inclusion de certains codes de paiement avec des montants nuls

* Pour inclure des codes de paiement à montant nuls dans la table de fait `fact_h_remun` :
  1. Ajoutez un fichier nommé `pmnt_zero_keep.csv` dans le dossier `cssXX.dashboards_store/seeds/marts/human_ressources`. Ce fichier doit contenir les colonnes décrites dans `cdpvd_dashboards_store/seeds/marts/human_ressources/schema.yml` (référez-vous à la définition de la seed `pmnt_zero_keep`). 

  2. Déclenchez un rafraîchissement de vos seeds 

```bash
dbt seed --full-refresh
```

::alert{type=info}
Veuillez consulter la section [seeds](/using/marts/seeds) pour plus d’informations sur la manière d’utiliser et de peupler les graines
::

#### Actualiser les descriptifs des unités administratives, procéder à des regroupements

* Pour fournir des descriptifs plus explicites à certaines unités administratives, regrouper certaines sous une même étiquette :
  1. Ajoutez un fichier nommé `adjust_nomen_unit_adm.csv` dans le dossier `cssXX.dashboards_store/seeds/marts/human_ressources`. Ce fichier doit contenir les colonnes décrites dans `cdpvd_dashboards_store/seeds/marts/human_ressources/schema.yml` (référez-vous à la définition de la seed `adjust_nomen_unit_adm`). 

  2. Déclenchez un rafraîchissement de vos seeds 
  3. Configurez la variable `use_adjust_nomen_unit_adm` dans la section `vars` de votre fichier `dbt_project.yml`
    
#### Ajout des cibles ETC de votre CSS

Cette seed est utilisée pour comparer les cibles ETC de votre CSS avec les heures et ETC réels.

  1. Ajoutez un fichier nommé `cibles_etc.csv` dans le dossier `cssXX.dashboards_store/seeds/dashboards/direction_generale/suivi_etc`. Ce fichier doit contenir les colonnes décrites dans `cdpvd_dashboards_store/seeds/dashboards/direction_generale/suivi_etc/schema.yml` (référez-vous à la définition de la seed `cibles_etc`). 

  2. Déclenchez un rafraîchissement de vos seeds 

```bash
dbt seed --full-refresh
```

::alert{type=info}
Veuillez consulter la section [seeds](/using/marts/seeds) pour plus d’informations sur la manière d’utiliser et de peupler les graines
::

#### Paramétrage de la date pivot

Dans ce module, l’intégrateur ou l’analyste de votre CSS peut définir la date à partir de laquelle les heures rémunérées doivent être récupérées. Pour cela, configurez la variable `date_pivot` dans la section `vars` de votre fichier `dbt_project.yml` :

#### Spécification du `dbt_project`

> Mettez à jour votre fichier `cssxx_store/dbt_project.yml` avec l'extrait suivant

```yaml
# cssXX.data.store/dbt_project.yml
models:
  core_dashboards_store:
    marts:
      human_resources:
        dimensions:
          mappers:
            dim_mapper_job_group:
              +enabled: true          
    interfaces:
      +enabled: True
      +materialized: ephemeral        
      paie:
        i_pai_tab_corp_empl:
          +enabled: false
        i_pai_hemp:
          +enabled: false
        i_pai_tab_etat_empl:
          +enabled: false

cdpvd_dashboards_store:
  marts:        
    human_resources:
      staging:
        suivi_etc:
          +enabled: true
      features:
        suivi_etc:
          +schema: suivi_etc
          +enabled: true 
    dashboards: 
      direction_generale:
        suivi_etc:
          +enabled: true                       
      interfaces:
        paie:
          +enabled: true

vars:
  database_dofin: "[Replace Me].[DOFIN]"

  marts:
    human_resources:
      date_pivot: 2024-07-01
  
  dashboards:
    direction_generale:
      suivi_etc:
        use_adjust_nomen_unit_adm: true # à ajouter si l'on souhaite ajuster / regrouper des unités administratives
```
Adaptez ces valeurs selon les besoins spécifiques de votre CSS.
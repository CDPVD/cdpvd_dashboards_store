---
title: V√©rification du fonctionnement
---

# üéâ Nous sommes maintenant √† l'√©tape de faire fonctionner le tout ! üéâ

::alert{type="info"}
L'environnement `virtualenv / poetry env` √† utiliser pour faire rouler l'ETL, **devrait (normalement) √™tre** celui provenant du dossier `core.datashboards_store`. Si vous voulez utiliser un ensemble personnalis√© de d√©pendances, vous avez la responsabilit√© de configurer le fichier `cssXX.dashboards_store/pyproject.toml` selon vos besoins.
::

Nous prenons pour acquis que vous avez un terminal ouvert dans le dossier `<working dir>`.

1. Permettre l'envitonnement Python
   > L'environnement Python doit √™tre activ√© pour que DBT puisse rouler. Si vous avez obtenu un message d'erreur de la commande DBT n'√©tant pas trouv√©e, vous avez probablement oubli√© de l'activer.

```bash
cd core.dashboards_store
poetry shell
```
::alert{type="warning"}
L'environnement Poetry devrait √™tre activ√© chaque fois que vous voulez rouler DBT, et sur chaque terminal / fen√™tre (bash window) duquel vous voulez vouler DBT.
::

2. D√©placer votre dossier `cssXX.dashboards_store`
> Puisque votre cssXX.dashboards_data pourrait surcharger certaines mod√®les du noyau (Core'S models), et puisque cela mettrait en oeuvre les contrats tels que d√©finis par le magasin, vous devriez toujours rouler l'ETL √† partir du dossier `cssXX.dashboards_store`.

```bash
cd ../cssXX.dasboards_store
```


1. Rouler la commande de d√©bogage pour tester la connexion :

```bash
dbt debug
```

Le r√©sultat devrait donner ceci:

```bash
15:29:16  Running with dbt=1.4.7
dbt version: 1.4.7
python version: 3.8.10
python path: /home/<store_user>/.cache/pypoetry/virtualenvs/core.dashboards_store-pQVMzw-y-py3.8/bin/python
os info: Linux-5.10.16.3-microsoft-standard-WSL2-x86_64-with-glibc2.29
Using profiles.yml file at /home/<store_user>/<working_directory>/<cssXX>.dashboards_store/profiles.yml
Using dbt_project.yml file at /home/<store_user>/<working_directory>/<cssXX>.dashboards_store/dbt_project.yml

Configuration:
  profiles.yml file [OK found and valid]
  dbt_project.yml file [OK found and valid]

Required dependencies:
 - git [OK found]

Connection:
  server: <store\'s server IP>
  database: <store_dev>
  schema: <store_user> -- the default schema schould be your name
  port: <store\'s server port>
  UID: <store_user>
  client_id: None
  authentication: sql
  encrypt: True
  trust_cert: True
  retries: 1
  login_timeout: 0
  query_timeout: 0
  Connection test: [OK connection ok]

All checks passed!
```

::alert{type="success"}
Hourra ! Vous √™tes maintenant pr√™t √† alimenter, configurer et rouler l'ETL !
::

# Que venez-vous de faire ?

* Si vous avez obtenu `All checks passed!`, vous avez configur√© votre projet avec succ√®s. Vous n'avez encore rien mat√©rialis√©, mais vous savez que la base de donn√©es peut √™tre atteinte par l'ordinateur. Vous avez encore √† alimenter les diff√©rents fichiers de donn√©es statiques et mod√®les (seeds and models), et √† configurer le fichier `cssXX.dashboards_store/dbt_project.yaml` pour arriver √† mat√©rialiser les mod√®les sous-jacents aux tableaux de bord.
* Si vous avez obtenu un message d'erreur, de toute √©vidence, quelque chose ne fonctionne pas :
  * Assurez-vous que votre authentification √† la base de donn√©es est exacte (essayez de vous connecter √† la base de donn√©es en utilisant la m√™me authentification dans SSMS);
  * Assurez-vous que votre base de donn√©es est vraiment accessible √† partir de votre ordinateur (essayez `telnet <database's IP> <database's port>`);
  * √âcrivez le message d'erreur sur Google; vous allez peut-√™tre trouver une piste de solution. Puisse la premi√®re page propos√©e par Google vous aider sinon...!



